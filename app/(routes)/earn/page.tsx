"use client";

import ModalV2 from "@/components/common/ModalV2";
import EarnSection from "@/components/earn/EarnSection";
import RewardSection from "@/components/earn/RewardSection";
import useWindowSize from "@/hooks/useWindowSize";
import { useState } from "react";
import DepositModal from "@/components/earn/TopUpModal";
import EarnHero from "@/components/earn/EarnHero";
import EntryButtons from "@/components/earn/EntryButtons";

const EarnPage = () => {
  const [earnedToDate /*setEarnedToDate*/] = useState<{
    amount: string;
    usdValue: string;
  }>({ amount: "0", usdValue: "0" });
  const [availableToClaim /*setAvailableToClaim*/] = useState<{
    amount: string;
    usdValue: string;
  }>({ amount: "0", usdValue: "0" });
  const [isAutoCompound, setIsAutoCompound] = useState<boolean>(false);
  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);
  const { width } = useWindowSize();

  return (
    <div className="pb-32">
      <EarnHero
        mainTitle="Print3r Earning Vaults"
        subTitle="Deposit crypto or cash to automatically earn 30% of all of the revenue generated by the Print3r platform."
        secondTitle="New to Print3r Earning Vaults?"
        secondSubTitle="Learn about what Print3r earnings vaults are, what the benefits are and how to get started."
        docLink="#"
      />
      <EarnSection />
      <RewardSection
        earnedToDate={earnedToDate}
        availableToClaim={availableToClaim}
        isAutoCompound={isAutoCompound}
        onAutoCompoundToggle={() => setIsAutoCompound(!isAutoCompound)}
        onClaimRewards={() => {}}
      />
      {width && width < 1024 && (
        <EntryButtons
          positiveText="Deposit"
          negativeText="Withdraw"
          title="Manage your vault"
          isPositive={isAutoCompound}
          setIsPositive={setIsAutoCompound}
          mobileVariant
          onClick={() => setIsModalOpen(true)}
          showIcons={false}
        />
      )}
      <ModalV2 isOpen={isModalOpen} setIsModalOpen={setIsModalOpen}>
        <DepositModal setIsModalOpen={setIsModalOpen} />
      </ModalV2>
    </div>
  );
};

export default EarnPage;
